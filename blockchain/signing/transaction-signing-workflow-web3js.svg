<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1337px" preserveAspectRatio="none" style="width:2242px;height:1337px;" version="1.1" viewBox="0 0 2242 1337" width="2242px" zoomAndPan="magnify"><defs><filter height="300%" id="f3tbjyg0sswd7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Monaco" font-size="18" lengthAdjust="spacing" textLength="323" x="967" y="30.6855">Web3.js/ethereumjs Transaction Signing</text><text fill="#000000" font-family="Monaco" font-size="18" lengthAdjust="spacing" textLength="0" x="1131" y="53.3262"/><text fill="#000000" font-family="Monaco" font-size="18" lengthAdjust="spacing" textLength="0" x="1131" y="75.9668"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="1147.3232" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="459.5" y="174.6582"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="1106.5889" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="464.5" y="215.3926"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="34.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="754.5" y="253.127"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="1001.9951" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="962.5" y="319.9863"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="347.4375" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="967.5" y="360.7207"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="28" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="972.5" y="406.4551"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="114.0859" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="967.5" y="1091.8955"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="28" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="972.5" y="1177.9814"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="193.8438" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1220.5" y="474.1895"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="45.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1225.5" y="581.7832"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="34.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1429.5" y="506.9238"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="300.7202" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1596.5" y="747.8926"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="231.3125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1904.5" y="780.627"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="130.7188" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1909.5" y="840.0957"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="34.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="2180.5" y="896.5645"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="71" x2="71" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="464.5" x2="464.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="759.5" x2="759.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="967.5" x2="967.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="1225.5" x2="1225.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="1434.5" x2="1434.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="1601.5" x2="1601.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="1909.5" x2="1909.5" y1="139.9238" y2="1330.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:5.0,5.0;" x1="2185" x2="2185" y1="139.9238" y2="1330.9814"/><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="30.3926" style="stroke:#2F4F4F;stroke-width:1.5;" width="89" x="25" y="104.5313"/><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="48" x="45.5" y="124.3213">client</text><a href="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js" target="_top" title="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js" xlink:actuate="onRequest" xlink:href="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js" xlink:show="new" xlink:title="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="30.3926" style="stroke:#2F4F4F;stroke-width:1.5;" width="150" x="387.5" y="104.5313"/><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="136" x="394.5" y="124.3213">web3.eth.accounts</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/transactionFactory.ts" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/transactionFactory.ts" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/transactionFactory.ts" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/transactionFactory.ts" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="48.002" style="stroke:#2F4F4F;stroke-width:1.5;" width="182" x="666.5" y="86.9219"/><text fill="#000000" font-family="Monaco" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86" x="714.5" y="108.4551">«ethereumjs»</text><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="168" x="673.5" y="124.3213">tx.TransactionFactory</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="48.002" style="stroke:#2F4F4F;stroke-width:1.5;" width="126" x="902.5" y="86.9219"/><text fill="#000000" font-family="Monaco" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86" x="922.5" y="108.4551">«ethereumjs»</text><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="112" x="909.5" y="124.3213">tx.Transaction</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="48.002" style="stroke:#2F4F4F;stroke-width:1.5;" width="100" x="1173.5" y="86.9219"/><text fill="#000000" font-family="Monaco" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86" x="1180.5" y="108.4551">«ethereumjs»</text><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="72" x="1187.5" y="124.3213">util.hash</text></a><a href="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts" target="_top" title="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts" xlink:show="new" xlink:title="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="48.002" style="stroke:#2F4F4F;stroke-width:1.5;" width="100" x="1382.5" y="86.9219"/><text fill="#000000" font-family="Monaco" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86" x="1389.5" y="108.4551">«ethereumjs»</text><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="24" x="1420.5" y="124.3213">rlp</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="48.002" style="stroke:#2F4F4F;stroke-width:1.5;" width="126" x="1536.5" y="86.9219"/><text fill="#000000" font-family="Monaco" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86" x="1556.5" y="108.4551">«ethereumjs»</text><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="112" x="1543.5" y="124.3213">util.signature</text></a><a href="https://github.com/cryptocoinjs/secp256k1-node/tree/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7" target="_top" title="https://github.com/cryptocoinjs/secp256k1-node/tree/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7" xlink:actuate="onRequest" xlink:href="https://github.com/cryptocoinjs/secp256k1-node/tree/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7" xlink:show="new" xlink:title="https://github.com/cryptocoinjs/secp256k1-node/tree/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="30.3926" style="stroke:#2F4F4F;stroke-width:1.5;" width="126" x="1844.5" y="104.5313"/><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="112" x="1851.5" y="124.3213">secp256k1-node</text></a><a href="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js" target="_top" title="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js" xlink:actuate="onRequest" xlink:href="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js" xlink:show="new" xlink:title="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js" xlink:type="simple"><rect fill="#F8F8FF" filter="url(#f3tbjyg0sswd7)" height="30.3926" style="stroke:#2F4F4F;stroke-width:1.5;" width="89" x="2139" y="104.5313"/><text fill="#000000" font-family="Consolas" font-size="14" lengthAdjust="spacing" textLength="40" x="2163.5" y="124.3213">ec:EC</text></a><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="1147.3232" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="459.5" y="174.6582"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="1106.5889" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="464.5" y="215.3926"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="34.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="754.5" y="253.127"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="1001.9951" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="962.5" y="319.9863"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="347.4375" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="967.5" y="360.7207"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="28" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="972.5" y="406.4551"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="114.0859" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="967.5" y="1091.8955"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="28" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="972.5" y="1177.9814"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="193.8438" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1220.5" y="474.1895"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="45.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1225.5" y="581.7832"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="34.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1429.5" y="506.9238"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="300.7202" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1596.5" y="747.8926"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="231.3125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1904.5" y="780.627"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="130.7188" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="1909.5" y="840.0957"/><rect fill="#FFFFFF" filter="url(#f3tbjyg0sswd7)" height="34.125" style="stroke:#2F4F4F;stroke-width:1.0;" width="10" x="2180.5" y="896.5645"/><a href="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L146" target="_top" title="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L146" xlink:actuate="onRequest" xlink:href="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L146" xlink:show="new" xlink:title="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L146" xlink:type="simple"><polygon fill="#2F4F4F" points="447.5,170.6582,457.5,174.6582,447.5,178.6582,451.5,174.6582" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="71.5" x2="453.5" y1="174.6582" y2="174.6582"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="144" x="73.5" y="168.541">signTransaction(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="18" x="217.5" y="168.541">tx</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="235.5" y="168.541">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="90" x="253.5" y="168.541">privateKey</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="343.5" y="168.541">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="72" x="361.5" y="168.541">callback</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="433.5" y="168.541">)</text></a><a href="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L182" target="_top" title="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L182" xlink:actuate="onRequest" xlink:href="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L182" xlink:show="new" xlink:title="https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L182" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="469.5" x2="516.5" y1="202.3926" y2="202.3926"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="516.5" x2="516.5" y1="202.3926" y2="215.3926"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="475.5" x2="516.5" y1="215.3926" y2="215.3926"/><polygon fill="#2F4F4F" points="485.5,211.3926,475.5,215.3926,485.5,219.3926,481.5,215.3926" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="481.5" y="196.2754">signed(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="18" x="544.5" y="196.2754">tx</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="562.5" y="196.2754">)</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/transactionFactory.ts#L22" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/transactionFactory.ts#L22" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/transactionFactory.ts#L22" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/transactionFactory.ts#L22" xlink:type="simple"><polygon fill="#2F4F4F" points="742.5,249.127,752.5,253.127,742.5,257.127,746.5,253.127" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="474.5" x2="748.5" y1="253.127" y2="253.127"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="476.5" y="247.0098">fromTxData(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="54" x="575.5" y="247.0098">txData</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="629.5" y="247.0098">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="81" x="647.5" y="247.0098">txOptions</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="728.5" y="247.0098">)</text></a><polygon fill="#2F4F4F" points="485.5,283.252,475.5,287.252,485.5,291.252,481.5,287.252" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="479.5" x2="758.5" y1="287.252" y2="287.252"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="39" x="542.5" y="281.7363">return</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="162" x="590.5" y="281.1348">transaction object</text><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/baseTransaction.ts#L282" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/baseTransaction.ts#L282" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/baseTransaction.ts#L282" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/baseTransaction.ts#L282" xlink:type="simple"><polygon fill="#2F4F4F" points="950.5,315.9863,960.5,319.9863,950.5,323.9863,954.5,319.9863" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="474.5" x2="956.5" y1="319.9863" y2="319.9863"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="45" x="729.5" y="313.8691">sign(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="90" x="774.5" y="313.8691">privateKey</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="81" x="864.5" y="313.8691">: Buffer)</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L210" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L210" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L210" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L210" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="972.5" x2="1019.5" y1="347.7207" y2="347.7207"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1019.5" x2="1019.5" y1="347.7207" y2="360.7207"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="978.5" x2="1019.5" y1="360.7207" y2="360.7207"/><polygon fill="#2F4F4F" points="988.5,356.7207,978.5,360.7207,988.5,364.7207,984.5,360.7207" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="198" x="984.5" y="341.6035">getMessageToSign(true)</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L176" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L176" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L176" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L176" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="982.5" x2="1024.5" y1="398.4551" y2="398.4551"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1024.5" x2="1024.5" y1="398.4551" y2="411.4551"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="983.5" x2="1024.5" y1="411.4551" y2="411.4551"/><polygon fill="#2F4F4F" points="993.5,407.4551,983.5,411.4551,993.5,415.4551,989.5,411.4551" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="171" x="989.5" y="392.3379">_getMessageToSign()</text></a><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L157" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L157" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L157" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L157" xlink:type="simple"><polygon fill="#2F4F4F" points="1208.5,470.1895,1218.5,474.1895,1208.5,478.1895,1212.5,474.1895" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="977.5" x2="1214.5" y1="474.1895" y2="474.1895"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="72" x="1014.5" y="468.0723">rlphash(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="9" x="1086.5" y="468.0723">a</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="108" x="1095.5" y="468.0723">: rlp.Input)</text></a><a href="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts#L14" target="_top" title="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts#L14" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts#L14" xlink:show="new" xlink:title="https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts#L14" xlink:type="simple"><polygon fill="#2F4F4F" points="1417.5,502.9238,1427.5,506.9238,1417.5,510.9238,1421.5,506.9238" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1230.5" x2="1423.5" y1="506.9238" y2="506.9238"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="144" x="1268.5" y="500.8066">encode(a: Input)</text></a><polygon fill="#2F4F4F" points="1241.5,537.0488,1231.5,541.0488,1241.5,545.0488,1237.5,541.0488" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1235.5" x2="1433.5" y1="541.0488" y2="541.0488"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="125" x="1302.5" y="535.5332">return serialized tx</text><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L12" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L12" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L12" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L12" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1230.5" x2="1277.5" y1="568.7832" y2="568.7832"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1277.5" x2="1277.5" y1="568.7832" y2="581.7832"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1236.5" x2="1277.5" y1="581.7832" y2="581.7832"/><polygon fill="#2F4F4F" points="1246.5,577.7832,1236.5,581.7832,1246.5,585.7832,1242.5,581.7832" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="1242.5" y="562.666">keccak(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="9" x="1305.5" y="562.666">a</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="54" x="1314.5" y="562.666">, 256)</text></a><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1235.5" x2="1277.5" y1="625.9082" y2="625.9082"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1277.5" x2="1277.5" y1="625.9082" y2="638.9082"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1230.5" x2="1277.5" y1="638.9082" y2="638.9082"/><polygon fill="#2F4F4F" points="1240.5,634.9082,1230.5,638.9082,1240.5,642.9082,1236.5,638.9082" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="180" x="1242.5" y="620.3926">return hashed serialized tx</text><polygon fill="#2F4F4F" points="988.5,664.0332,978.5,668.0332,988.5,672.0332,984.5,668.0332" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="982.5" x2="1224.5" y1="668.0332" y2="668.0332"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="180" x="1038.5" y="662.5176">return hashed serialized tx</text><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="977.5" x2="1019.5" y1="707.1582" y2="707.1582"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1019.5" x2="1019.5" y1="707.1582" y2="720.1582"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="972.5" x2="1019.5" y1="720.1582" y2="720.1582"/><polygon fill="#2F4F4F" points="982.5,716.1582,972.5,720.1582,982.5,724.1582,978.5,720.1582" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="180" x="984.5" y="701.6426">return hashed serialized tx</text><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts#L25" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts#L25" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts#L25" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts#L25" xlink:type="simple"><polygon fill="#2F4F4F" points="1584.5,743.8926,1594.5,747.8926,1584.5,751.8926,1588.5,747.8926" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="972.5" x2="1590.5" y1="747.8926" y2="747.8926"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="1255.5" y="741.7754">ecsign(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="63" x="1318.5" y="741.7754">msgHash</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1381.5" y="741.7754">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="90" x="1399.5" y="741.7754">privateKey</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1489.5" y="741.7754">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="63" x="1507.5" y="741.7754">chainId</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1570.5" y="741.7754">)</text></a><a href="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/index.js#L252" target="_top" title="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/index.js#L252" xlink:actuate="onRequest" xlink:href="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/index.js#L252" xlink:show="new" xlink:title="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/index.js#L252" xlink:type="simple"><polygon fill="#2F4F4F" points="1892.5,776.627,1902.5,780.627,1892.5,784.627,1896.5,780.627" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1606.5" x2="1898.5" y1="780.627" y2="780.627"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="279" x="1608.5" y="774.5098">ecdsaSign (msgHash, privateKey)</text></a><a href="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/elliptic.js#L302" target="_top" title="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/elliptic.js#L302" xlink:actuate="onRequest" xlink:href="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/elliptic.js#L302" xlink:show="new" xlink:title="https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/elliptic.js#L302" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1914.5" x2="1961.5" y1="827.0957" y2="827.0957"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1961.5" x2="1961.5" y1="827.0957" y2="840.0957"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1920.5" x2="1961.5" y1="840.0957" y2="840.0957"/><polygon fill="#2F4F4F" points="1930.5,836.0957,1920.5,840.0957,1930.5,844.0957,1926.5,840.0957" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="1926.5" y="802.2441">ecdsaSign (</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="27" x="2025.5" y="802.2441">obj</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="2052.5" y="802.2441">,</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="180" x="1953.5" y="820.9785">msgHash, privateKey)</text></a><a href="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js#L91" target="_top" title="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js#L91" xlink:actuate="onRequest" xlink:href="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js#L91" xlink:show="new" xlink:title="https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js#L91" xlink:type="simple"><polygon fill="#2F4F4F" points="2168.5,892.5645,2178.5,896.5645,2168.5,900.5645,2172.5,896.5645" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1919.5" x2="2174.5" y1="896.5645" y2="896.5645"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="225" x="1929.5" y="871.7129">sign(msgHash, privateKey,</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="162" x="2001.5" y="890.4473">{canonical: true})</text></a><polygon fill="#2F4F4F" points="1930.5,926.6895,1920.5,930.6895,1930.5,934.6895,1926.5,930.6895" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1924.5" x2="2184.5" y1="930.6895" y2="930.6895"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="39" x="1941.5" y="925.1738">return</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="189" x="1989.5" y="924.5723">{r, s, recoveryParam}</text><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1919.5" x2="1961.5" y1="969.8145" y2="969.8145"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1961.5" x2="1961.5" y1="969.8145" y2="982.8145"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1914.5" x2="1961.5" y1="982.8145" y2="982.8145"/><polygon fill="#2F4F4F" points="1924.5,978.8145,1914.5,982.8145,1924.5,986.8145,1920.5,982.8145" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="39" x="1926.5" y="964.2988">return</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1974.5" y="963.6973">0</text><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="14" x="1992.5" y="964.2988">or</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="2015.5" y="963.6973">1</text><polygon fill="#2F4F4F" points="1617.5,1007.9395,1607.5,1011.9395,1617.5,1015.9395,1613.5,1011.9395" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="1611.5" x2="1908.5" y1="1011.9395" y2="1011.9395"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="39" x="1692.5" y="1006.4238">return</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="162" x="1740.5" y="1005.8223">{signature, recid}</text><polygon fill="#2F4F4F" points="983.5,1044.6128,973.5,1048.6128,983.5,1052.6128,979.5,1048.6128" style="stroke:#2F4F4F;stroke-width:1.0;"/><line style="stroke:#2F4F4F;stroke-width:1.3;stroke-dasharray:2.0,2.0;" x1="977.5" x2="1600.5" y1="1048.6128" y2="1048.6128"/><text fill="#000000" font-family="courier" font-size="16" lengthAdjust="spacing" textLength="39" x="1465.5" y="1043.0972">return</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="81" x="1513.5" y="1042.4956">{r, s, v}</text><path d="M1611,1024.9395 L1611,1049.9395 L2045,1049.9395 L2045,1034.9395 L2035,1024.9395 L1611,1024.9395 " fill="#FFF5EE" filter="url(#f3tbjyg0sswd7)" style="stroke:#FFFFFF;stroke-width:1.0;"/><path d="M2035,1024.9395 L2035,1034.9395 L2045,1034.9395 L2035,1024.9395 " fill="#FFF5EE" style="stroke:#FFFFFF;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="13" lengthAdjust="spacing" textLength="413" x="1617" y="1041.8159">v = chainId ? recovery + (chainId * 2 + 35) : recovery + 27</text><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L301" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L301" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L301" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L301" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="972.5" x2="1019.5" y1="1078.8955" y2="1078.8955"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1019.5" x2="1019.5" y1="1078.8955" y2="1091.8955"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="978.5" x2="1019.5" y1="1091.8955" y2="1091.8955"/><polygon fill="#2F4F4F" points="988.5,1087.8955,978.5,1091.8955,988.5,1095.8955,984.5,1091.8955" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="162" x="984.5" y="1072.7783">_processSignature(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="9" x="1146.5" y="1072.7783">v</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1155.5" y="1072.7783">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="9" x="1173.5" y="1072.7783">r</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1182.5" y="1072.7783">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="9" x="1200.5" y="1072.7783">s</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1209.5" y="1072.7783">)</text></a><path d="M856,1109.8955 L856,1135.8955 L1075,1135.8955 L1075,1119.8955 L1065,1109.8955 L856,1109.8955 " fill="#FFF5EE" filter="url(#f3tbjyg0sswd7)" style="stroke:#FFFFFF;stroke-width:1.0;"/><path d="M1065,1109.8955 L1065,1119.8955 L1075,1119.8955 L1065,1109.8955 " fill="#FFF5EE" style="stroke:#FFFFFF;stroke-width:1.0;"/><text fill="#000000" font-family="Monaco" font-size="13" lengthAdjust="spacing" textLength="198" x="862" y="1128.3906">""if(EIP155) v = v + chainId x 2 + 8</text><a href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L33" target="_top" title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L33" xlink:actuate="onRequest" xlink:href="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L33" xlink:show="new" xlink:title="https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L33" xlink:type="simple"><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="982.5" x2="1024.5" y1="1169.9814" y2="1169.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="1024.5" x2="1024.5" y1="1169.9814" y2="1182.9814"/><line style="stroke:#2F4F4F;stroke-width:1.3;" x1="983.5" x2="1024.5" y1="1182.9814" y2="1182.9814"/><polygon fill="#2F4F4F" points="993.5,1178.9814,983.5,1182.9814,993.5,1186.9814,989.5,1182.9814" style="stroke:#2F4F4F;stroke-width:1.0;"/><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="989.5" y="1163.8643">fromTxData(</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="54" x="1088.5" y="1163.8643">txData</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1142.5" y="1163.8643">,</text><text fill="#000000" font-family="Consolas" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="36" x="1160.5" y="1163.8643">opts</text><text fill="#000000" font-family="Consolas" font-size="16" lengthAdjust="spacing" textLength="9" x="1196.5" y="1163.8643">)</text></a><!--MD5=[ef98ef3d591b001ff64fac4f86a573ba]
@startuml

' https://plantuml.com/class-diagram
' https://plantuml.com/sequence-diagram
' https://plantuml-documentation.readthedocs.io/en/latest/formatting/all-skin-params.html
' https://plantuml-documentation.readthedocs.io/en/latest/formatting/all-skin-params.html#class
' https://plantuml.com/creole
' https://www.w3schools.com/colors/colors_names.asp

skinparam {
  'DefaultFontName Consolas
  DefaultFontName Monaco
  'DefaultFontName Lucida Console
  DefaultMonospacedFontName Consolas
  'DefaultFontStyle bold

  'BackgroundColor transparent
  BackgroundColor white
  PageMargin 10
  BoxPadding 100
  ParticipantPadding 20

  ArrowFontSize 16
  ArrowThickness 1
  MinClassWidth 75
  ClassFontStyle bold

  NoteBackgroundColor SeaShell
  NoteBorderColor transparent
  NoteShadowing false
}


skinparam Sequence{

  ParticipantFontName Consolas
  ArrowFontName Consolas

  DividerBorderThickness 1.5
  ReferenceBorderThickness 1.5
  MessageAlignment right

  ArrowColor DarkSlateGray
  ArrowThickness 1.3
  LifeLineBorderColor DarkSlateGray
  LifeLineBorderThickness 1.3

  ActorBorderColor DarkSlateGray
  ActorBackgroundColor GhostWhite
  ParticipantBorderColor DarkSlateGray
  ParticipantBorderThickness 1.5
  ParticipantBackgroundColor GhostWhite

  'BoxBackgroundColor transparent
  'BoxBorderColor transparent

  GroupBorderThickness 1.3
  GroupBorderColor DarkBlue
  GroupBodyBackgroundColor Azure
}

skinparam Group{
  BorderThickness 1.3
  BorderShadowing true
}


hide Circle
hide Footbox
title Web3.js/ethereumjs Transaction Signing\n\n
'caption


participant client
participant "web3.eth.accounts" as accts
participant "tx.TransactionFactory" as factory <<ethereumjs>>
participant "tx.Transaction" as tx <<ethereumjs>>
participant "util.hash" as hash <<ethereumjs>>
participant "rlp" as rlp <<ethereumjs>>
participant "util.signature" as signature <<ethereumjs>>
participant "secp256k1-node" as secp256k1
participant "ec:EC" as ec

url of accts is [[https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js]]
url of factory is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/transactionFactory.ts]]
url of tx is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts]]
url of hash is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts]]
url of rlp is [[https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts]]
url of signature is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts]]
url of secp256k1 is [[https://github.com/cryptocoinjs/secp256k1-node/tree/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7]]
url of ec is [[https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js]]

client -> accts ++ [[https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L146]] : signTransaction(//tx//, //privateKey//, //callback//)
  accts -> accts ++ [[https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L182]] : signed(//tx//)
    accts -> factory ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/transactionFactory.ts#L22]] : fromTxData(//txData//, //txOptions//)
      accts <- - factory - - : <font:courier>return</font> transaction object
    accts -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/baseTransaction.ts#L282]] : sign(//privateKey//: Buffer)
      tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L210]] : getMessageToSign(true)
        tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L176]] : _getMessageToSign()
          tx - -
        tx -> hash ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L157]] : rlphash(//a//: rlp.Input)
          hash -> rlp ++ [[https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts#L14]] : encode(a: Input)
            hash <- - rlp - - : <font:courier>return serialized tx</font>
          hash -> hash ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L12]] : keccak(//a//, 256)
            hash <- - hash - - : <font:courier>return hashed serialized tx</font>
          tx <- - hash - - : <font:courier>return hashed serialized tx</font>
        tx <- - tx - - : <font:courier>return hashed serialized tx</font>
      tx -> signature ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts#L25]] : ecsign(//msgHash//, //privateKey//, //chainId//)
        signature -> secp256k1 ++ [[https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/index.js#L252]] :  ecdsaSign (msgHash, privateKey)
          secp256k1 -> secp256k1 ++ [[https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/elliptic.js#L302]] : ecdsaSign (//obj//, \n   msgHash, privateKey)
            secp256k1 -> ec ++ [[https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js#L91]] : sign(msgHash, privateKey, \n   {canonical: true})
              secp256k1 <- - ec - - : <font:courier>return</font> {r, s, recoveryParam}
            secp256k1 <- - secp256k1 - - : <font:courier>return</font> 0 <font:courier>or</font> 1
          signature <- - secp256k1 - -: <font:courier>return</font> {signature, recid}
        tx <- - signature - - : <font:courier>return</font> {r, s, v}
        note right
        ""v = chainId ? recovery + (chainId * 2 + 35) : recovery + 27""
        end note
      tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L301]] : _processSignature(//v//, //r//, //s//)
        note over tx
        ""if(EIP155) v = v + chainId x 2 + 8
        end note
        tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L33]] : fromTxData(//txData//, //opts//)
          tx - -
        tx - -






||100||

@enduml

@startuml


skinparam {
  DefaultFontName Monaco
  DefaultMonospacedFontName Consolas

  BackgroundColor white
  PageMargin 10
  BoxPadding 100
  ParticipantPadding 20

  ArrowFontSize 16
  ArrowThickness 1
  MinClassWidth 75
  ClassFontStyle bold

  NoteBackgroundColor SeaShell
  NoteBorderColor transparent
  NoteShadowing false
}


skinparam Sequence{

  ParticipantFontName Consolas
  ArrowFontName Consolas

  DividerBorderThickness 1.5
  ReferenceBorderThickness 1.5
  MessageAlignment right

  ArrowColor DarkSlateGray
  ArrowThickness 1.3
  LifeLineBorderColor DarkSlateGray
  LifeLineBorderThickness 1.3

  ActorBorderColor DarkSlateGray
  ActorBackgroundColor GhostWhite
  ParticipantBorderColor DarkSlateGray
  ParticipantBorderThickness 1.5
  ParticipantBackgroundColor GhostWhite


  GroupBorderThickness 1.3
  GroupBorderColor DarkBlue
  GroupBodyBackgroundColor Azure
}

skinparam Group{
  BorderThickness 1.3
  BorderShadowing true
}


hide Circle
hide Footbox
title Web3.js/ethereumjs Transaction Signing\n\n


participant client
participant "web3.eth.accounts" as accts
participant "tx.TransactionFactory" as factory <<ethereumjs>>
participant "tx.Transaction" as tx <<ethereumjs>>
participant "util.hash" as hash <<ethereumjs>>
participant "rlp" as rlp <<ethereumjs>>
participant "util.signature" as signature <<ethereumjs>>
participant "secp256k1-node" as secp256k1
participant "ec:EC" as ec

url of accts is [[https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js]]
url of factory is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/transactionFactory.ts]]
url of tx is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts]]
url of hash is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts]]
url of rlp is [[https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts]]
url of signature is [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts]]
url of secp256k1 is [[https://github.com/cryptocoinjs/secp256k1-node/tree/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7]]
url of ec is [[https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js]]

client -> accts ++ [[https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L146]] : signTransaction(//tx//, //privateKey//, //callback//)
  accts -> accts ++ [[https://github.com/ChainSafe/web3.js/blob/v1.7.0/packages/web3-eth-accounts/src/index.js#L182]] : signed(//tx//)
    accts -> factory ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/transactionFactory.ts#L22]] : fromTxData(//txData//, //txOptions//)
      accts <- - factory - - : <font:courier>return</font> transaction object
    accts -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/@ethereumjs/tx@3.3.2/packages/tx/src/baseTransaction.ts#L282]] : sign(//privateKey//: Buffer)
      tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L210]] : getMessageToSign(true)
        tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L176]] : _getMessageToSign()
          tx - -
        tx -> hash ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L157]] : rlphash(//a//: rlp.Input)
          hash -> rlp ++ [[https://github.com/ethereumjs/rlp/blob/a0fc75b76e08939d9db5162640ba4363f6ce296e/src/index.ts#L14]] : encode(a: Input)
            hash <- - rlp - - : <font:courier>return serialized tx</font>
          hash -> hash ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/hash.ts#L12]] : keccak(//a//, 256)
            hash <- - hash - - : <font:courier>return hashed serialized tx</font>
          tx <- - hash - - : <font:courier>return hashed serialized tx</font>
        tx <- - tx - - : <font:courier>return hashed serialized tx</font>
      tx -> signature ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/util/src/signature.ts#L25]] : ecsign(//msgHash//, //privateKey//, //chainId//)
        signature -> secp256k1 ++ [[https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/index.js#L252]] :  ecdsaSign (msgHash, privateKey)
          secp256k1 -> secp256k1 ++ [[https://github.com/cryptocoinjs/secp256k1-node/blob/f73cd3a2b95ec6f549a2feabfbf2b8f17b30dcc7/lib/elliptic.js#L302]] : ecdsaSign (//obj//, \n   msgHash, privateKey)
            secp256k1 -> ec ++ [[https://github.com/indutny/elliptic/blob/43ac7f230069bd1575e1e4a58394a512303ba803/lib/elliptic/ec/index.js#L91]] : sign(msgHash, privateKey, \n   {canonical: true})
              secp256k1 <- - ec - - : <font:courier>return</font> {r, s, recoveryParam}
            secp256k1 <- - secp256k1 - - : <font:courier>return</font> 0 <font:courier>or</font> 1
          signature <- - secp256k1 - -: <font:courier>return</font> {signature, recid}
        tx <- - signature - - : <font:courier>return</font> {r, s, v}
        note right
        ""v = chainId ? recovery + (chainId * 2 + 35) : recovery + 27""
        end note
      tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L301]] : _processSignature(//v//, //r//, //s//)
        note over tx
        ""if(EIP155) v = v + chainId x 2 + 8
        end note
        tx -> tx ++ [[https://github.com/ethereumjs/ethereumjs-monorepo/blob/6e41fb32a4916cff53ec940d94e3c238f3c20d5f/packages/tx/src/legacyTransaction.ts#L33]] : fromTxData(//txData//, //opts//)
          tx - -
        tx - -






||100||

@enduml

PlantUML version 1.2021.5(Sun Apr 25 20:20:28 KST 2021)
(EPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: utf-8
Language: en
Country: KR
--></g></svg>